# Submission 2: Deteksi Penyakit Jantung Menggunakan TFX Pipeline

**Nama:** Wulandari  
**Username Dicoding:** wlndry

| **Keterangan**          | **Deskripsi** |
|-------------------------|---------------|
| **Dataset**             | Dataset yang digunakan adalah [**Heart Disease UCI Dataset**](https://www.kaggle.com/datasets/fedesoriano/heart-failure-prediction), yang berisi data rekam medis pasien dengan berbagai fitur medis seperti usia, tekanan darah, kadar kolesterol, hasil EKG, denyut jantung maksimal, serta informasi lain seperti jenis kelamin dan riwayat penyakit. Label target pada dataset ini adalah `HeartDisease`, yaitu indikator biner yang menunjukkan apakah seorang pasien menderita penyakit jantung (`1`) atau tidak (`0`). Dataset ini telah banyak digunakan dalam riset klasifikasi medis karena bersifat open-source dan representatif terhadap kasus nyata. |
| **Masalah**             | Penyakit jantung merupakan penyebab kematian nomor satu di dunia. Oleh karena itu, deteksi dini menjadi sangat penting agar pengobatan dapat diberikan secepat mungkin. Tantangan utama dalam masalah ini adalah bagaimana memanfaatkan data medis yang tersedia—yang terkadang terbatas—untuk secara otomatis memprediksi risiko penyakit jantung. Tujuan utamanya adalah mengembangkan sistem klasifikasi yang cepat, akurat, dan dapat membantu pengambilan keputusan klinis. |
| **Solusi Machine Learning** | Solusi yang dikembangkan adalah model klasifikasi biner berbasis machine learning untuk memprediksi kemungkinan seseorang menderita penyakit jantung. Model ini dilatih menggunakan data historis pasien, dan mampu memberikan prediksi otomatis apakah seorang pasien memiliki risiko penyakit jantung atau tidak. Solusi ini ditujukan untuk membantu tenaga medis atau sistem klinis melakukan skrining awal secara efisien, terutama pada kondisi terbatasnya tenaga kesehatan. |
| **Metode Pengolahan**   | Data preprocessing dilakukan secara sistematis menggunakan komponen `Transform` dalam TFX. Fitur numerik seperti `age`, `cholesterol`, dan `maxHR` dinormalisasi menggunakan teknik Z-score agar berada dalam skala seragam. Fitur kategorikal seperti `Sex`, `ChestPainType`, dan `RestingECG` diproses menggunakan `tft.compute_and_apply_vocabulary`, yaitu metode encoding berbasis vocabulary lookup. Label target `HeartDisease` dikonversi ke tipe `int64`. Dataset dibagi menjadi dua bagian: 80% data untuk training dan 20% untuk evaluasi menggunakan konfigurasi `CsvExampleGen` dengan `hash_buckets` pada parameter `split_config`. |
| **Arsitektur Model**    | Model dikembangkan menggunakan TensorFlow Keras Sequential API. Arsitektur terdiri dari input layer yang menerima fitur-fitur yang telah ditransformasi, diikuti oleh dua hidden layer bertipe Dense masing-masing dengan 64 dan 32 neuron serta aktivasi ReLU. Output layer terdiri dari satu neuron dengan aktivasi sigmoid untuk prediksi biner. Model dilatih menggunakan `binary_crossentropy` sebagai loss function, `Adam` sebagai optimizer, dan menggunakan metrik `accuracy` untuk evaluasi performa selama training. |
| **Metrik Evaluasi**     | Evaluasi performa dilakukan menggunakan metrik `accuracy` pada validation set, serta metrik tambahan dari `TensorFlow Model Analysis (TFMA)` untuk memberikan wawasan lebih dalam, seperti AUC (Area Under Curve), jumlah contoh (`ExampleCount`), jumlah prediksi positif dan negatif yang salah (`FalsePositives`, `FalseNegatives`), serta prediksi benar (`TruePositives`, `TrueNegatives`). Evaluasi ini membantu mengidentifikasi kekuatan dan kelemahan model dalam klasifikasi biner. |
| **Performa Model**      | Berdasarkan hasil evaluasi, model mencapai akurasi validasi sebesar **87.21%** dengan nilai loss sekitar **0.3290**. Ini menunjukkan bahwa model memiliki performa yang cukup baik dalam memisahkan dua kelas target. Hasil evaluasi TFMA menunjukkan nilai AUC yang memadai dan distribusi kesalahan yang relatif seimbang, menunjukkan tidak adanya bias berlebih pada salah satu kelas. Model telah disimpan menggunakan signature `serving_default`, menjadikannya siap untuk digunakan dalam proses deployment. |
| **Opsi Deployment**     | Deployment model dilakukan secara otomatis menggunakan komponen `Pusher` dari TFX, yang mendorong model ke direktori `serving_model/`. Model ini kemudian dapat di-deploy menggunakan TensorFlow Serving, baik dalam mode HTTP REST API maupun gRPC. Selain itu, model siap diintegrasikan ke dalam web application berbasis framework seperti Flask atau FastAPI, sehingga dapat dimanfaatkan oleh pengguna secara real-time. |
| **Web App**             | Aplikasi web yang menyediakan antarmuka untuk prediksi berbasis model ini tersedia di: [https://mlops-production-0453.up.railway.app](https://mlops-production-0453.up.railway.app). Aplikasi ini memungkinkan pengguna mengirimkan data pasien dalam format JSON dan menerima prediksi langsung dari model yang telah dideploy. Ini membuat model dapat diakses secara luas dan mudah digunakan, termasuk oleh tenaga kesehatan atau sistem lain. |
| **Monitoring**          | Monitoring dilakukan menggunakan *Prometheus*, yang dikonfigurasi untuk secara berkala melakukan `scrape` terhadap endpoint metrik dari model serving. Endpoint metrik seperti `tensorflow_serving_request_count` dan `tensorflow_serving_request_latency_microseconds_sum` tersedia secara default dari TensorFlow Serving. Metrik tambahan seperti `system_cpu_usage` dan `system_ram_usage` juga dapat ditambahkan menggunakan Prometheus exporter. Monitoring ini memungkinkan observabilitas performa model dan sistem, termasuk mendeteksi bottleneck atau peningkatan beban prediksi. |
